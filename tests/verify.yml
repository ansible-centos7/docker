---
- name: Verify
  hosts: all

  tasks:
    - name: Check whether Docker is installed
      command: docker version
      register: DOCKER_VERSION
      changed_when: false
      ignore_errors: true

    - name: Check whether Docker compose is installed
      command: docker-compose version
      register: DOCKER_COMPOSE_VERSION
      changed_when: false
      ignore_errors: true

    - name: Check OS version
      command: cat /etc/redhat-release
      register: OS_VERSION
      changed_when: false

    - name: Make sure Docker is installed
      debug:
        var: DOCKER_VERSION

    - name: Make sure Docker compose is installed
      debug:
        var: DOCKER_COMPOSE_VERSION

    - name: Show OS version
      debug:
        var: OS_VERSION
